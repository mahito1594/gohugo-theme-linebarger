<head>
  <meta charaset="utf-8">
  <meta http-equiv="X-UA-Compatible" content ="IE=Edge">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="detection-format" content="telephone=no">

  {{- if .IsHome }}
  <title>{{ .Site.Title }}</title>
  {{ else }}
  <title>{{ with .Title }} {{ . }} | {{ end }}{{ .Site.Title }}</title>
  {{ end -}}

  <link href="{{ .Site.BaseURL }}css/ress.min.css" rel="stylesheet" media="all">
  <link href="{{ .Site.BaseURL }}css/main.css" rel="stylesheet" media="all">
  <!-- Load KaTeX when at Home or katex = true -->
  {{ if or ( .IsHome ) ( $.Param "katex" ) }}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {delimiters: [
            {left: "$$", right: "$$", display: true},
            {left:"\\[", right: "\\]", display: true },
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
        ]});
    });
  </script>
  {{ end }}

  <!-- Load user custom CSS -->
  {{ if isset .Site.Params "customcss" }}
  <link href="{{ .Site.BaseURL }}{{ .Site.Params.customCSS }}" rel="stylesheet" media="all">
  {{ end }}

  {{ template "_internal/opengraph.html" . }}
  {{ template "_internal/twitter_cards.html" . }}
  {{ if isset .Site.Params "favicon" }}
  <link href="{{ .Site.BaseURL }}{{ .Site.Params.favicon }}" rel="shortcut icon">
  {{ end }}
</head>
